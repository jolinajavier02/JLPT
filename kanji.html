<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn Kanji - Notesjp</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Noto+Sans+JP:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            overflow-x: hidden;
            min-height: 100vh;
            background: #f8f9fa;
        }

        /* Grid View (Scrollable) */
        .grid-view {
            min-height: 100vh;
            overflow-y: auto;
            padding: 80px 1rem 4rem;
            display: none;
            background: white;
        }

        .grid-view.active {
            display: block;
        }

        /* Detail View (Fixed Single Card) */
        .detail-view {
            display: none;
            height: 100vh;
            width: 100vw;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }

        .detail-view.active {
            display: flex;
        }

        .detail-card {
            background: white;
            border-radius: 24px;
            box-shadow: var(--shadow-lg);
            width: 95%;
            max-width: 1000px;
            height: 90vh;
            max-height: 700px;
            display: grid;
            grid-template-columns: 35% 65%;
            /* Left: Kanji, Right: Info */
            grid-template-rows: 1fr;
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        /* Left Column: Kanji Display */
        .card-left {
            background: var(--primary-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 2rem;
            position: relative;
        }

        .detail-char {
            font-size: 12rem;
            font-family: var(--font-jp);
            font-weight: 700;
            line-height: 1;
        }

        .detail-meaning {
            font-size: 2.5rem;
            font-weight: 800;
            margin-top: 1rem;
            text-align: center;
            text-transform: capitalize;
        }

        /* Right Column: Info & Interactive */
        .card-right {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            overflow-y: auto;
            justify-content: center;
        }

        /* Readings Section */
        .readings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .reading-box {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 12px;
            border-left: 4px solid var(--accent-color);
        }

        .reading-label {
            font-size: 0.75rem;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.25rem;
            display: block;
        }

        .reading-value {
            font-size: 1.1rem;
            color: var(--text-color);
            font-weight: 600;
            font-family: var(--font-jp);
        }





        /* Stroke Order Box */
        .stroke-box {
            background: white;
            border: 2px dashed #ddd;
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .stroke-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stroke-placeholder svg {
            width: 80%;
            height: 80%;
        }

        .stroke-placeholder path {
            stroke: var(--primary-color) !important;
            stroke-width: 4 !important;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw 2s linear forwards;
        }

        @keyframes draw {
            to {
                stroke-dashoffset: 0;
            }
        }

        /* Navigation */
        .card-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }

        .nav-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
            transition: 0.2s;
            padding: 0.5rem;
        }

        .nav-btn:hover {
            color: var(--primary-color);
            transform: scale(1.1);
        }

        .close-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: 0.2s;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        /* Search & Grid Styles (Reused) */
        .kanji-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .kanji-card {
            background: white;
            padding: 1rem;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-family: var(--font-jp);
            font-weight: 700;
        }

        .kanji-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
            background: var(--primary-color);
            color: white;
        }

        .search-container {
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1.5rem;
            border-radius: 50px;
            border: 2px solid #eee;
            font-size: 1rem;
            outline: none;
        }

        .search-input:focus {
            border-color: var(--primary-color);
        }

        .load-more-btn {
            display: block;
            margin: 3rem auto;
            background: var(--primary-color);
            border: none;
            color: white;
            padding: 1rem 3rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
        }

        .load-more-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Responsive */
        @media (max-width: 900px) {
            .detail-card {
                grid-template-columns: 1fr;
                grid-template-rows: auto 1fr;
                height: 95vh;
                overflow-y: auto;
            }

            .card-left {
                padding: 1.5rem;
                flex-direction: row;
                gap: 1rem;
                justify-content: flex-start;
            }

            .detail-char {
                font-size: 4rem;
            }

            .detail-meaning {
                font-size: 1.5rem;
                margin: 0;
            }

            .visual-grid {
                grid-template-columns: 1fr;
            }

            .close-btn {
                color: var(--text-color);
                top: 1rem;
                right: 1rem;
                background: #eee;
            }
        }
    </style>
</head>

<body>

    <header class="main-header">
        <div class="container">
            <nav>
                <a href="home.html" class="logo">Notesjp</a>
                <div class="nav-links">
                    <a href="home.html" class="nav-link">Dashboard</a>
                    <a href="test.html" class="header-btn">Take Test</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Grid View -->
    <div id="grid-view" class="grid-view active">
        <div class="container">
            <div style="text-align: center; margin-bottom: 2rem;">
                <h1>Kanji Library</h1>
                <p>Explore all 2,136 Joyo Kanji</p>
            </div>

            <!-- Thematic Sets -->
            <div class="thematic-sets" style="margin-bottom: 3rem;">
                <h2 style="margin-bottom: 1.5rem; color: var(--primary-color); font-size: 1.5rem;">▸ Thematic Sets</h2>
                <div class="sets-grid"
                    style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem;">
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Movement & Direction</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('行')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">行</span>
                            <span class="mini-kanji" onclick="openDetail('来')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">来</span>
                            <span class="mini-kanji" onclick="openDetail('帰')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">帰</span>
                            <span class="mini-kanji" onclick="openDetail('戻')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">戻</span>
                            <span class="mini-kanji" onclick="openDetail('出')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">出</span>
                            <span class="mini-kanji" onclick="openDetail('入')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">入</span>
                            <span class="mini-kanji" onclick="openDetail('到')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">到</span>
                            <span class="mini-kanji" onclick="openDetail('着')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">着</span>
                            <span class="mini-kanji" onclick="openDetail('発')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">発</span>
                            <span class="mini-kanji" onclick="openDetail('移')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">移</span>
                            <span class="mini-kanji" onclick="openDetail('動')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">動</span>
                            <span class="mini-kanji" onclick="openDetail('場')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">場</span>
                            <span class="mini-kanji" onclick="openDetail('退')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">退</span>
                            <span class="mini-kanji" onclick="openDetail('通')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">通</span>
                            <span class="mini-kanji" onclick="openDetail('過')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">過</span>
                            <span class="mini-kanji" onclick="openDetail('渡')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">渡</span>
                            <span class="mini-kanji" onclick="openDetail('越')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">越</span>
                            <span class="mini-kanji" onclick="openDetail('曲')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">曲</span>
                            <span class="mini-kanji" onclick="openDetail('進')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">進</span>
                            <span class="mini-kanji" onclick="openDetail('下')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">下</span>
                            <span class="mini-kanji" onclick="openDetail('近')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">近</span>
                            <span class="mini-kanji" onclick="openDetail('歩')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">歩</span>
                            <span class="mini-kanji" onclick="openDetail('走')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">走</span>
                            <span class="mini-kanji" onclick="openDetail('止')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">止</span>
                            <span class="mini-kanji" onclick="openDetail('立')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">立</span>
                            <span class="mini-kanji" onclick="openDetail('座')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">座</span>
                            <span class="mini-kanji" onclick="openDetail('跳')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">跳</span>
                            <span class="mini-kanji" onclick="openDetail('登')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">登</span>
                            <span class="mini-kanji" onclick="openDetail('降')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">降</span>
                            <span class="mini-kanji" onclick="openDetail('転')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">転</span>
                            <span class="mini-kanji" onclick="openDetail('乗')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">乗</span>
                            <span class="mini-kanji" onclick="openDetail('運')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">運</span>
                            <span class="mini-kanji" onclick="openDetail('旅')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">旅</span>
                            <span class="mini-kanji" onclick="openDetail('勤')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">勤</span>
                            <span class="mini-kanji" onclick="openDetail('学')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">学</span>
                            <span class="mini-kanji" onclick="openDetail('換')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">換</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Compass & Location</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('上')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">上</span>
                            <span class="mini-kanji" onclick="openDetail('下')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">下</span>
                            <span class="mini-kanji" onclick="openDetail('前')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">前</span>
                            <span class="mini-kanji" onclick="openDetail('後')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">後</span>
                            <span class="mini-kanji" onclick="openDetail('中')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">中</span>
                            <span class="mini-kanji" onclick="openDetail('外')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">外</span>
                            <span class="mini-kanji" onclick="openDetail('右')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">右</span>
                            <span class="mini-kanji" onclick="openDetail('左')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">左</span>
                            <span class="mini-kanji" onclick="openDetail('横')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">横</span>
                            <span class="mini-kanji" onclick="openDetail('向')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">向</span>
                            <span class="mini-kanji" onclick="openDetail('北')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">北</span>
                            <span class="mini-kanji" onclick="openDetail('東')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">東</span>
                            <span class="mini-kanji" onclick="openDetail('南')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">南</span>
                            <span class="mini-kanji" onclick="openDetail('西')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">西</span>
                            <span class="mini-kanji" onclick="openDetail('側')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">側</span>
                            <span class="mini-kanji" onclick="openDetail('方')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">方</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Road & Traffic</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('角')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">角</span>
                            <span class="mini-kanji" onclick="openDetail('交')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">交</span>
                            <span class="mini-kanji" onclick="openDetail('差')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">差</span>
                            <span class="mini-kanji" onclick="openDetail('点')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">点</span>
                            <span class="mini-kanji" onclick="openDetail('信')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">信</span>
                            <span class="mini-kanji" onclick="openDetail('号')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">号</span>
                            <span class="mini-kanji" onclick="openDetail('橋')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">橋</span>
                            <span class="mini-kanji" onclick="openDetail('道')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">道</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Manner & State</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('早')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">早</span>
                            <span class="mini-kanji" onclick="openDetail('遅')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">遅</span>
                            <span class="mini-kanji" onclick="openDetail('急')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">急</span>
                            <span class="mini-kanji" onclick="openDetail('回')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">回</span>
                            <span class="mini-kanji" onclick="openDetail('静')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">静</span>
                            <span class="mini-kanji" onclick="openDetail('突')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">突</span>
                            <span class="mini-kanji" onclick="openDetail('然')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">然</span>
                            <span class="mini-kanji" onclick="openDetail('徐')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">徐</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Food & Ingredients</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('飯')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">飯</span>
                            <span class="mini-kanji" onclick="openDetail('麺')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">麺</span>
                            <span class="mini-kanji" onclick="openDetail('弁')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">弁</span>
                            <span class="mini-kanji" onclick="openDetail('当')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">当</span>
                            <span class="mini-kanji" onclick="openDetail('肉')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">肉</span>
                            <span class="mini-kanji" onclick="openDetail('牛')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">牛</span>
                            <span class="mini-kanji" onclick="openDetail('豚')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">豚</span>
                            <span class="mini-kanji" onclick="openDetail('鶏')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">鶏</span>
                            <span class="mini-kanji" onclick="openDetail('卵')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">卵</span>
                            <span class="mini-kanji" onclick="openDetail('豆')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">豆</span>
                            <span class="mini-kanji" onclick="openDetail('腐')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">腐</span>
                            <span class="mini-kanji" onclick="openDetail('魚')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">魚</span>
                            <span class="mini-kanji" onclick="openDetail('鮭')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">鮭</span>
                            <span class="mini-kanji" onclick="openDetail('鯖')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">鯖</span>
                            <span class="mini-kanji" onclick="openDetail('鰹')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">鰹</span>
                            <span class="mini-kanji" onclick="openDetail('海')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">海</span>
                            <span class="mini-kanji" onclick="openDetail('老')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">老</span>
                            <span class="mini-kanji" onclick="openDetail('蟹')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">蟹</span>
                            <span class="mini-kanji" onclick="openDetail('貝')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">貝</span>
                            <span class="mini-kanji" onclick="openDetail('刺')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">刺</span>
                            <span class="mini-kanji" onclick="openDetail('身')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">身</span>
                            <span class="mini-kanji" onclick="openDetail('寿')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">寿</span>
                            <span class="mini-kanji" onclick="openDetail('司')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">司</span>
                            <span class="mini-kanji" onclick="openDetail('菜')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">菜</span>
                            <span class="mini-kanji" onclick="openDetail('果')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">果</span>
                            <span class="mini-kanji" onclick="openDetail('物')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">物</span>
                            <span class="mini-kanji" onclick="openDetail('茶')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">茶</span>
                            <span class="mini-kanji" onclick="openDetail('酒')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">酒</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Taste & Texture</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('味')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">味</span>
                            <span class="mini-kanji" onclick="openDetail('甘')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">甘</span>
                            <span class="mini-kanji" onclick="openDetail('辛')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">辛</span>
                            <span class="mini-kanji" onclick="openDetail('塩')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">塩</span>
                            <span class="mini-kanji" onclick="openDetail('酸')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">酸</span>
                            <span class="mini-kanji" onclick="openDetail('苦')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">苦</span>
                            <span class="mini-kanji" onclick="openDetail('薄')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">薄</span>
                            <span class="mini-kanji" onclick="openDetail('濃')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">濃</span>
                            <span class="mini-kanji" onclick="openDetail('旨')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">旨</span>
                            <span class="mini-kanji" onclick="openDetail('香')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">香</span>
                            <span class="mini-kanji" onclick="openDetail('脂')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">脂</span>
                            <span class="mini-kanji" onclick="openDetail('渋')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">渋</span>
                            <span class="mini-kanji" onclick="openDetail('生')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">生</span>
                            <span class="mini-kanji" onclick="openDetail('臭')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">臭</span>
                            <span class="mini-kanji" onclick="openDetail('食')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">食</span>
                            <span class="mini-kanji" onclick="openDetail('感')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">感</span>
                            <span class="mini-kanji" onclick="openDetail('柔')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">柔</span>
                            <span class="mini-kanji" onclick="openDetail('硬')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">硬</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Colors & Appearance</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('色')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">色</span>
                            <span class="mini-kanji" onclick="openDetail('白')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">白</span>
                            <span class="mini-kanji" onclick="openDetail('黒')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">黒</span>
                            <span class="mini-kanji" onclick="openDetail('赤')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">赤</span>
                            <span class="mini-kanji" onclick="openDetail('青')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">青</span>
                            <span class="mini-kanji" onclick="openDetail('黄')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">黄</span>
                            <span class="mini-kanji" onclick="openDetail('緑')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">緑</span>
                            <span class="mini-kanji" onclick="openDetail('茶')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">茶</span>
                            <span class="mini-kanji" onclick="openDetail('紫')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">紫</span>
                            <span class="mini-kanji" onclick="openDetail('灰')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">灰</span>
                            <span class="mini-kanji" onclick="openDetail('金')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">金</span>
                            <span class="mini-kanji" onclick="openDetail('銀')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">銀</span>
                            <span class="mini-kanji" onclick="openDetail('透')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">透</span>
                            <span class="mini-kanji" onclick="openDetail('明')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">明</span>
                            <span class="mini-kanji" onclick="openDetail('暗')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">暗</span>
                            <span class="mini-kanji" onclick="openDetail('見')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">見</span>
                            <span class="mini-kanji" onclick="openDetail('新')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">新</span>
                            <span class="mini-kanji" onclick="openDetail('古')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">古</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Body Parts</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('体')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">体</span>
                            <span class="mini-kanji" onclick="openDetail('頭')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">頭</span>
                            <span class="mini-kanji" onclick="openDetail('髪')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">髪</span>
                            <span class="mini-kanji" onclick="openDetail('顔')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">顔</span>
                            <span class="mini-kanji" onclick="openDetail('額')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">額</span>
                            <span class="mini-kanji" onclick="openDetail('目')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">目</span>
                            <span class="mini-kanji" onclick="openDetail('耳')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">耳</span>
                            <span class="mini-kanji" onclick="openDetail('鼻')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">鼻</span>
                            <span class="mini-kanji" onclick="openDetail('口')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">口</span>
                            <span class="mini-kanji" onclick="openDetail('歯')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">歯</span>
                            <span class="mini-kanji" onclick="openDetail('舌')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">舌</span>
                            <span class="mini-kanji" onclick="openDetail('首')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">首</span>
                            <span class="mini-kanji" onclick="openDetail('肩')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">肩</span>
                            <span class="mini-kanji" onclick="openDetail('胸')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">胸</span>
                            <span class="mini-kanji" onclick="openDetail('背')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">背</span>
                            <span class="mini-kanji" onclick="openDetail('腕')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">腕</span>
                            <span class="mini-kanji" onclick="openDetail('肘')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">肘</span>
                            <span class="mini-kanji" onclick="openDetail('手')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">手</span>
                            <span class="mini-kanji" onclick="openDetail('指')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">指</span>
                            <span class="mini-kanji" onclick="openDetail('爪')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">爪</span>
                            <span class="mini-kanji" onclick="openDetail('腹')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">腹</span>
                            <span class="mini-kanji" onclick="openDetail('腰')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">腰</span>
                            <span class="mini-kanji" onclick="openDetail('脚')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">脚</span>
                            <span class="mini-kanji" onclick="openDetail('足')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">足</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Internal Organs</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('内')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">内</span>
                            <span class="mini-kanji" onclick="openDetail('臓')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">臓</span>
                            <span class="mini-kanji" onclick="openDetail('心')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">心</span>
                            <span class="mini-kanji" onclick="openDetail('肺')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">肺</span>
                            <span class="mini-kanji" onclick="openDetail('胃')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">胃</span>
                            <span class="mini-kanji" onclick="openDetail('腸')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">腸</span>
                            <span class="mini-kanji" onclick="openDetail('肝')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">肝</span>
                            <span class="mini-kanji" onclick="openDetail('腎')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">腎</span>
                            <span class="mini-kanji" onclick="openDetail('脳')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">脳</span>
                            <span class="mini-kanji" onclick="openDetail('血')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">血</span>
                            <span class="mini-kanji" onclick="openDetail('管')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">管</span>
                            <span class="mini-kanji" onclick="openDetail('骨')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">骨</span>
                            <span class="mini-kanji" onclick="openDetail('筋')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">筋</span>
                            <span class="mini-kanji" onclick="openDetail('神')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">神</span>
                            <span class="mini-kanji" onclick="openDetail('経')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">経</span>
                            <span class="mini-kanji" onclick="openDetail('皮')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">皮</span>
                            <span class="mini-kanji" onclick="openDetail('膚')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">膚</span>
                            <span class="mini-kanji" onclick="openDetail('免')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">免</span>
                            <span class="mini-kanji" onclick="openDetail('疫')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">疫</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Health & Illness</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('健')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">健</span>
                            <span class="mini-kanji" onclick="openDetail('康')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">康</span>
                            <span class="mini-kanji" onclick="openDetail('病')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">病</span>
                            <span class="mini-kanji" onclick="openDetail('気')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">気</span>
                            <span class="mini-kanji" onclick="openDetail('痛')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">痛</span>
                            <span class="mini-kanji" onclick="openDetail('頭')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">頭</span>
                            <span class="mini-kanji" onclick="openDetail('喉')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">喉</span>
                            <span class="mini-kanji" onclick="openDetail('熱')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">熱</span>
                            <span class="mini-kanji" onclick="openDetail('咳')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">咳</span>
                            <span class="mini-kanji" onclick="openDetail('吐')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">吐</span>
                            <span class="mini-kanji" onclick="openDetail('痢')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">痢</span>
                            <span class="mini-kanji" onclick="openDetail('便')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">便</span>
                            <span class="mini-kanji" onclick="openDetail('秘')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">秘</span>
                            <span class="mini-kanji" onclick="openDetail('腫')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">腫</span>
                            <span class="mini-kanji" onclick="openDetail('花')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">花</span>
                            <span class="mini-kanji" onclick="openDetail('粉')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">粉</span>
                            <span class="mini-kanji" onclick="openDetail('症')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">症</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Office & Workplace</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('事')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">事</span>
                            <span class="mini-kanji" onclick="openDetail('務')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">務</span>
                            <span class="mini-kanji" onclick="openDetail('所')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">所</span>
                            <span class="mini-kanji" onclick="openDetail('会')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">会</span>
                            <span class="mini-kanji" onclick="openDetail('議')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">議</span>
                            <span class="mini-kanji" onclick="openDetail('室')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">室</span>
                            <span class="mini-kanji" onclick="openDetail('応')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">応</span>
                            <span class="mini-kanji" onclick="openDetail('接')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">接</span>
                            <span class="mini-kanji" onclick="openDetail('憩')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">憩</span>
                            <span class="mini-kanji" onclick="openDetail('喫')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">喫</span>
                            <span class="mini-kanji" onclick="openDetail('煙')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">煙</span>
                            <span class="mini-kanji" onclick="openDetail('付')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">付</span>
                            <span class="mini-kanji" onclick="openDetail('倉')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">倉</span>
                            <span class="mini-kanji" onclick="openDetail('庫')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">庫</span>
                            <span class="mini-kanji" onclick="openDetail('印')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">印</span>
                            <span class="mini-kanji" onclick="openDetail('刷')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">刷</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Stationery & Equipment</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('椅')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">椅</span>
                            <span class="mini-kanji" onclick="openDetail('子')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">子</span>
                            <span class="mini-kanji" onclick="openDetail('机')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">机</span>
                            <span class="mini-kanji" onclick="openDetail('棚')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">棚</span>
                            <span class="mini-kanji" onclick="openDetail('類')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">類</span>
                            <span class="mini-kanji" onclick="openDetail('筆')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">筆</span>
                            <span class="mini-kanji" onclick="openDetail('鉛')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">鉛</span>
                            <span class="mini-kanji" onclick="openDetail('帳')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">帳</span>
                            <span class="mini-kanji" onclick="openDetail('箋')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">箋</span>
                            <span class="mini-kanji" onclick="openDetail('筒')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">筒</span>
                            <span class="mini-kanji" onclick="openDetail('刺')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">刺</span>
                            <span class="mini-kanji" onclick="openDetail('針')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">針</span>
                            <span class="mini-kanji" onclick="openDetail('規')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">規</span>
                            <span class="mini-kanji" onclick="openDetail('算')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">算</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Roles & People</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('員')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">員</span>
                            <span class="mini-kanji" onclick="openDetail('社')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">社</span>
                            <span class="mini-kanji" onclick="openDetail('長')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">長</span>
                            <span class="mini-kanji" onclick="openDetail('部')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">部</span>
                            <span class="mini-kanji" onclick="openDetail('課')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">課</span>
                            <span class="mini-kanji" onclick="openDetail('係')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">係</span>
                            <span class="mini-kanji" onclick="openDetail('役')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">役</span>
                            <span class="mini-kanji" onclick="openDetail('営')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">営</span>
                            <span class="mini-kanji" onclick="openDetail('秘')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">秘</span>
                            <span class="mini-kanji" onclick="openDetail('書')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">書</span>
                            <span class="mini-kanji" onclick="openDetail('技')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">技</span>
                            <span class="mini-kanji" onclick="openDetail('術')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">術</span>
                            <span class="mini-kanji" onclick="openDetail('師')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">師</span>
                            <span class="mini-kanji" onclick="openDetail('弁')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">弁</span>
                            <span class="mini-kanji" onclick="openDetail('護')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">護</span>
                        </div>
                    </div>
                    <div class="set-card"
                        style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                        <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Business Actions & Documents</h3>
                        <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <span class="mini-kanji" onclick="openDetail('働')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">働</span>
                            <span class="mini-kanji" onclick="openDetail('勤')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">勤</span>
                            <span class="mini-kanji" onclick="openDetail('案')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">案</span>
                            <span class="mini-kanji" onclick="openDetail('内')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">内</span>
                            <span class="mini-kanji" onclick="openDetail('提')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">提</span>
                            <span class="mini-kanji" onclick="openDetail('出')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">出</span>
                            <span class="mini-kanji" onclick="openDetail('依')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">依</span>
                            <span class="mini-kanji" onclick="openDetail('頼')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">頼</span>
                            <span class="mini-kanji" onclick="openDetail('承')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">承</span>
                            <span class="mini-kanji" onclick="openDetail('諾')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">諾</span>
                            <span class="mini-kanji" onclick="openDetail('協')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">協</span>
                            <span class="mini-kanji" onclick="openDetail('力')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">力</span>
                            <span class="mini-kanji" onclick="openDetail('報')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">報</span>
                            <span class="mini-kanji" onclick="openDetail('告')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">告</span>
                            <span class="mini-kanji" onclick="openDetail('指')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">指</span>
                            <span class="mini-kanji" onclick="openDetail('示')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">示</span>
                            <span class="mini-kanji" onclick="openDetail('暇')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">暇</span>
                            <span class="mini-kanji" onclick="openDetail('末')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">末</span>
                            <span class="mini-kanji" onclick="openDetail('録')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">録</span>
                            <span class="mini-kanji" onclick="openDetail('企')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">企</span>
                            <span class="mini-kanji" onclick="openDetail('画')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">画</span>
                            <span class="mini-kanji" onclick="openDetail('契')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">契</span>
                            <span class="mini-kanji" onclick="openDetail('約')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">約</span>
                            <span class="mini-kanji" onclick="openDetail('派')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">派</span>
                            <span class="mini-kanji" onclick="openDetail('遣')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">遣</span>
                            <span class="mini-kanji" onclick="openDetail('題')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">題</span>
                            <span class="mini-kanji" onclick="openDetail('談')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">談</span>
                            <span class="mini-kanji" onclick="openDetail('意')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">意</span>
                            <span class="mini-kanji" onclick="openDetail('見')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">見</span>
                            <span class="mini-kanji" onclick="openDetail('表')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">表</span>
                            <span class="mini-kanji" onclick="openDetail('決')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">決</span>
                            <span class="mini-kanji" onclick="openDetail('定')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">定</span>
                            <span class="mini-kanji" onclick="openDetail('礼')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">礼</span>
                            <span class="mini-kanji" onclick="openDetail('勉')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">勉</span>
                            <span class="mini-kanji" onclick="openDetail('刻')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">刻</span>
                            <span class="mini-kanji" onclick="openDetail('標')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">標</span>
                            <span class="mini-kanji" onclick="openDetail('果')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">果</span>
                            <span class="mini-kanji" onclick="openDetail('費')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">費</span>
                            <span class="mini-kanji" onclick="openDetail('締')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">締</span>
                            <span class="mini-kanji" onclick="openDetail('切')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">切</span>
                            <span class="mini-kanji" onclick="openDetail('継')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">継</span>
                            <span class="mini-kanji" onclick="openDetail('誤')"
                                style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">誤</span>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Positive Emotions</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('喜')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">喜</span>
                                <span class="mini-kanji" onclick="openDetail('楽')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">楽</span>
                                <span class="mini-kanji" onclick="openDetail('幸')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">幸</span>
                                <span class="mini-kanji" onclick="openDetail('謝')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">謝</span>
                                <span class="mini-kanji" onclick="openDetail('興')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">興</span>
                                <span class="mini-kanji" onclick="openDetail('奮')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">奮</span>
                                <span class="mini-kanji" onclick="openDetail('誇')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">誇</span>
                                <span class="mini-kanji" onclick="openDetail('爽')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">爽</span>
                                <span class="mini-kanji" onclick="openDetail('快')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">快</span>
                                <span class="mini-kanji" onclick="openDetail('朗')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">朗</span>
                                <span class="mini-kanji" onclick="openDetail('陽')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">陽</span>
                                <span class="mini-kanji" onclick="openDetail('微')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">微</span>
                                <span class="mini-kanji" onclick="openDetail('笑')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">笑</span>
                            </div>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Negative Emotions</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('悲')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">悲</span>
                                <span class="mini-kanji" onclick="openDetail('寂')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">寂</span>
                                <span class="mini-kanji" onclick="openDetail('苦')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">苦</span>
                                <span class="mini-kanji" onclick="openDetail('怒')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">怒</span>
                                <span class="mini-kanji" onclick="openDetail('嫌')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">嫌</span>
                                <span class="mini-kanji" onclick="openDetail('憂')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">憂</span>
                                <span class="mini-kanji" onclick="openDetail('鬱')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">鬱</span>
                                <span class="mini-kanji" onclick="openDetail('哀')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">哀</span>
                                <span class="mini-kanji" onclick="openDetail('嘆')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">嘆</span>
                                <span class="mini-kanji" onclick="openDetail('虚')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">虚</span>
                                <span class="mini-kanji" onclick="openDetail('悔')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">悔</span>
                                <span class="mini-kanji" onclick="openDetail('憤')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">憤</span>
                                <span class="mini-kanji" onclick="openDetail('苛')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">苛</span>
                                <span class="mini-kanji" onclick="openDetail('妬')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">妬</span>
                                <span class="mini-kanji" onclick="openDetail('嫉')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">嫉</span>
                            </div>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Surprise & Shock</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('驚')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">驚</span>
                                <span class="mini-kanji" onclick="openDetail('愕')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">愕</span>
                                <span class="mini-kanji" onclick="openDetail('呆')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">呆</span>
                                <span class="mini-kanji" onclick="openDetail('唖')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">唖</span>
                                <span class="mini-kanji" onclick="openDetail('異')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">異</span>
                                <span class="mini-kanji" onclick="openDetail('仰')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">仰</span>
                                <span class="mini-kanji" onclick="openDetail('天')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">天</span>
                                <span class="mini-kanji" onclick="openDetail('然')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">然</span>
                            </div>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Love & Affection</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('愛')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">愛</span>
                                <span class="mini-kanji" onclick="openDetail('恋')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">恋</span>
                                <span class="mini-kanji" onclick="openDetail('慈')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">慈</span>
                                <span class="mini-kanji" onclick="openDetail('善')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">善</span>
                                <span class="mini-kanji" onclick="openDetail('尊')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">尊</span>
                                <span class="mini-kanji" onclick="openDetail('敬')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">敬</span>
                                <span class="mini-kanji" onclick="openDetail('親')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">親</span>
                                <span class="mini-kanji" onclick="openDetail('慕')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">慕</span>
                            </div>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Fear & Anxiety</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('怖')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">怖</span>
                                <span class="mini-kanji" onclick="openDetail('恐')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">恐</span>
                                <span class="mini-kanji" onclick="openDetail('狼')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">狼</span>
                                <span class="mini-kanji" onclick="openDetail('狽')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">狽</span>
                                <span class="mini-kanji" onclick="openDetail('惑')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">惑</span>
                                <span class="mini-kanji" onclick="openDetail('揺')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">揺</span>
                                <span class="mini-kanji" onclick="openDetail('汗')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">汗</span>
                                <span class="mini-kanji" onclick="openDetail('震')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">震</span>
                            </div>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Hardware & Devices</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('電')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">電</span>
                                <span class="mini-kanji" onclick="openDetail('話')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">話</span>
                                <span class="mini-kanji" onclick="openDetail('携')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">携</span>
                                <span class="mini-kanji" onclick="openDetail('帯')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">帯</span>
                                <span class="mini-kanji" onclick="openDetail('外')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">外</span>
                                <span class="mini-kanji" onclick="openDetail('付')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">付</span>
                                <span class="mini-kanji" onclick="openDetail('家')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">家</span>
                                <span class="mini-kanji" onclick="openDetail('機')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">機</span>
                                <span class="mini-kanji" onclick="openDetail('端')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">端</span>
                                <span class="mini-kanji" onclick="openDetail('末')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">末</span>
                                <span class="mini-kanji" onclick="openDetail('掃')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">掃</span>
                                <span class="mini-kanji" onclick="openDetail('除')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">除</span>
                                <span class="mini-kanji" onclick="openDetail('写')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">写</span>
                                <span class="mini-kanji" onclick="openDetail('真')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">真</span>
                                <span class="mini-kanji" onclick="openDetail('音')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">音</span>
                                <span class="mini-kanji" onclick="openDetail('楽')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">楽</span>
                            </div>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Software & Internet</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('軟')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">軟</span>
                                <span class="mini-kanji" onclick="openDetail('体')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">体</span>
                                <span class="mini-kanji" onclick="openDetail('基')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">基</span>
                                <span class="mini-kanji" onclick="openDetail('盤')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">盤</span>
                                <span class="mini-kanji" onclick="openDetail('算')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">算</span>
                                <span class="mini-kanji" onclick="openDetail('網')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">網</span>
                                <span class="mini-kanji" onclick="openDetail('雲')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">雲</span>
                                <span class="mini-kanji" onclick="openDetail('検')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">検</span>
                                <span class="mini-kanji" onclick="openDetail('索')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">索</span>
                                <span class="mini-kanji" onclick="openDetail('語')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">語</span>
                                <span class="mini-kanji" onclick="openDetail('添')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">添</span>
                                <span class="mini-kanji" onclick="openDetail('共')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">共</span>
                                <span class="mini-kanji" onclick="openDetail('有')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">有</span>
                            </div>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Operations & Actions</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('操')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">操</span>
                                <span class="mini-kanji" onclick="openDetail('作')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">作</span>
                                <span class="mini-kanji" onclick="openDetail('起')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">起</span>
                                <span class="mini-kanji" onclick="openDetail('動')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">動</span>
                                <span class="mini-kanji" onclick="openDetail('終')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">終</span>
                                <span class="mini-kanji" onclick="openDetail('了')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">了</span>
                                <span class="mini-kanji" onclick="openDetail('設')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">設</span>
                                <span class="mini-kanji" onclick="openDetail('定')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">定</span>
                                <span class="mini-kanji" onclick="openDetail('保')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">保</span>
                                <span class="mini-kanji" onclick="openDetail('存')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">存</span>
                                <span class="mini-kanji" onclick="openDetail('削')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">削</span>
                                <span class="mini-kanji" onclick="openDetail('除')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">除</span>
                                <span class="mini-kanji" onclick="openDetail('修')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">修</span>
                                <span class="mini-kanji" onclick="openDetail('正')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">正</span>
                                <span class="mini-kanji" onclick="openDetail('送')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">送</span>
                                <span class="mini-kanji" onclick="openDetail('信')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">信</span>
                                <span class="mini-kanji" onclick="openDetail('受')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">受</span>
                                <span class="mini-kanji" onclick="openDetail('印')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">印</span>
                                <span class="mini-kanji" onclick="openDetail('刷')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">刷</span>
                                <span class="mini-kanji" onclick="openDetail('更')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">更</span>
                                <span class="mini-kanji" onclick="openDetail('新')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">新</span>
                                <span class="mini-kanji" onclick="openDetail('運')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">運</span>
                                <span class="mini-kanji" onclick="openDetail('転')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">転</span>
                            </div>
                        </div>
                        <div class="set-card"
                            style="background: white; padding: 1.5rem; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow-sm);">
                            <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Advanced Tech & Security</h3>
                            <div class="set-kanji" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="mini-kanji" onclick="openDetail('人')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">人</span>
                                <span class="mini-kanji" onclick="openDetail('工')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">工</span>
                                <span class="mini-kanji" onclick="openDetail('知')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">知</span>
                                <span class="mini-kanji" onclick="openDetail('能')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">能</span>
                                <span class="mini-kanji" onclick="openDetail('仮')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">仮</span>
                                <span class="mini-kanji" onclick="openDetail('想')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">想</span>
                                <span class="mini-kanji" onclick="openDetail('現')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">現</span>
                                <span class="mini-kanji" onclick="openDetail('実')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">実</span>
                                <span class="mini-kanji" onclick="openDetail('拡')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">拡</span>
                                <span class="mini-kanji" onclick="openDetail('張')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">張</span>
                                <span class="mini-kanji" onclick="openDetail('自')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">自</span>
                                <span class="mini-kanji" onclick="openDetail('化')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">化</span>
                                <span class="mini-kanji" onclick="openDetail('技')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">技</span>
                                <span class="mini-kanji" onclick="openDetail('術')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">術</span>
                                <span class="mini-kanji" onclick="openDetail('有')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">有</span>
                                <span class="mini-kanji" onclick="openDetail('線')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">線</span>
                                <span class="mini-kanji" onclick="openDetail('無')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">無</span>
                                <span class="mini-kanji" onclick="openDetail('障')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">障</span>
                                <span class="mini-kanji" onclick="openDetail('害')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">害</span>
                                <span class="mini-kanji" onclick="openDetail('段')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">段</span>
                                <span class="mini-kanji" onclick="openDetail('階')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">階</span>
                                <span class="mini-kanji" onclick="openDetail('対')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">対</span>
                                <span class="mini-kanji" onclick="openDetail('策')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">策</span>
                                <span class="mini-kanji" onclick="openDetail('権')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">権</span>
                                <span class="mini-kanji" onclick="openDetail('限')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">限</span>
                                <span class="mini-kanji" onclick="openDetail('証')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">証</span>
                                <span class="mini-kanji" onclick="openDetail('認')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">認</span>
                                <span class="mini-kanji" onclick="openDetail('暗')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">暗</span>
                                <span class="mini-kanji" onclick="openDetail('号')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">号</span>
                                <span class="mini-kanji" onclick="openDetail('情')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">情</span>
                                <span class="mini-kanji" onclick="openDetail('報')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">報</span>
                                <span class="mini-kanji" onclick="openDetail('学')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">学</span>
                                <span class="mini-kanji" onclick="openDetail('習')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">習</span>
                                <span class="mini-kanji" onclick="openDetail('処')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">処</span>
                                <span class="mini-kanji" onclick="openDetail('通')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">通</span>
                                <span class="mini-kanji" onclick="openDetail('貨')"
                                    style="cursor: pointer; padding: 0.4rem; background: #f0f4f8; border-radius: 6px; font-family: var(--font-jp); font-weight: 700;">貨</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="loading-indicator" class="loading-spinner" style="margin: 2rem auto;"></div>
                <div class="kanji-grid" id="kanji-grid"></div>
                <button id="load-more" class="load-more-btn" onclick="loadMoreKanji()" style="display: none;">Load
                    More</button>
            </div>
        </div>

        <!-- Detail View (Single Card Overlay) -->
        <div id="detail-view" class="detail-view">
            <div class="detail-card">

                <!-- Left: Character -->
                <div class="card-left">
                    <span id="detail-char" class="detail-char">?</span>
                    <span id="detail-meaning" class="detail-meaning">Loading...</span>
                    <button class="close-btn" onclick="showGrid()">✕</button>
                </div>

                <!-- Right: Info -->
                <div class="card-right">

                    <!-- Readings -->
                    <div class="readings-grid">
                        <div class="reading-box">
                            <span class="reading-label">Onyomi</span>
                            <div id="detail-onyomi" class="reading-value">-</div>
                        </div>
                        <div class="reading-box">
                            <span class="reading-label">Kunyomi</span>
                            <div id="detail-kunyomi" class="reading-value">-</div>
                        </div>
                    </div>

                    <!-- Writing Pattern -->
                    <div class="stroke-box" style="width: 100%; max-width: 300px; margin: 0 auto; aspect-ratio: 1/1;">
                        <span class="reading-label" style="position: absolute; top: 0.5rem; left: 1rem;">Writing
                            Pattern</span>
                        <div class="stroke-placeholder" id="stroke-container">
                            Loading...
                        </div>
                        <button class="btn"
                            style="position: absolute; bottom: 0.5rem; right: 0.5rem; padding: 0.25rem 0.75rem; font-size: 0.7rem;"
                            onclick="replayAnimation()">Replay</button>
                    </div>

                    <!-- Navigation -->
                    <div class="card-nav">
                        <button class="nav-btn" onclick="prevChar()">← Previous</button>
                        <button class="nav-btn" onclick="nextChar()">Next →</button>
                    </div>

                </div>
            </div>
        </div>

        <script>
            // State
            let allKanjiList = [];
            let displayedCount = 0;
            const BATCH_SIZE = 100;
            let currentKanjiIndex = 0;

            // Kana Map (Same as before)
            const kanaMap = {
                'あ': 'a', 'い': 'i', 'う': 'u', 'え': 'e', 'お': 'o', 'か': 'ka', 'き': 'ki', 'く': 'ku', 'け': 'ke', 'こ': 'ko',
                'さ': 'sa', 'し': 'shi', 'す': 'su', 'せ': 'se', 'そ': 'so', 'た': 'ta', 'ち': 'chi', 'つ': 'tsu', 'て': 'te', 'と': 'to',
                'な': 'na', 'に': 'ni', 'ぬ': 'nu', 'ね': 'ne', 'の': 'no', 'は': 'ha', 'ひ': 'hi', 'ふ': 'fu', 'へ': 'he', 'ほ': 'ho',
                'ま': 'ma', 'み': 'mi', 'む': 'mu', 'め': 'me', 'も': 'mo', 'や': 'ya', 'ゆ': 'yu', 'よ': 'yo',
                'ら': 'ra', 'り': 'ri', 'る': 'ru', 'れ': 're', 'ろ': 'ro', 'わ': 'wa', 'を': 'wo', 'ん': 'n',
                'が': 'ga', 'ぎ': 'gi', 'ぐ': 'gu', 'げ': 'ge', 'ご': 'go', 'ざ': 'za', 'じ': 'ji', 'ず': 'zu', 'ぜ': 'ze', 'ぞ': 'zo',
                'だ': 'da', 'ぢ': 'ji', 'づ': 'zu', 'で': 'de', 'ど': 'do', 'ば': 'ba', 'び': 'bi', 'ぶ': 'bu', 'べ': 'be', 'ぼ': 'bo',
                'ぱ': 'pa', 'ぴ': 'pi', 'ぷ': 'pu', 'ぺ': 'pe', 'ぽ': 'po', 'きゃ': 'kya', 'きゅ': 'kyu', 'きょ': 'kyo',
                'しゃ': 'sha', 'しゅ': 'shu', 'しょ': 'sho', 'ちゃ': 'cha', 'ちゅ': 'chu', 'ちょ': 'cho',
                'にゃ': 'nya', 'にゅ': 'nyu', 'にょ': 'nyo', 'ひゃ': 'hya', 'ひゅ': 'hyu', 'ひょ': 'hyo',
                'みゃ': 'mya', 'みゅ': 'myu', 'みょ': 'myo', 'りゃ': 'rya', 'りゅ': 'ryu', 'りょ': 'ryo',
                'ぎゃ': 'gya', 'ぎゅ': 'gyu', 'ぎょ': 'gyo', 'じゃ': 'ja', 'じゅ': 'ju', 'じょ': 'jo',
                'びゃ': 'bya', 'びゅ': 'byu', 'びょ': 'byo', 'ぴゃ': 'pya', 'ぴゅ': 'pyu', 'ぴょ': 'pyo',
                'ア': 'a', 'イ': 'i', 'ウ': 'u', 'エ': 'e', 'オ': 'o', 'カ': 'ka', 'キ': 'ki', 'ク': 'ku', 'ケ': 'ke', 'コ': 'ko',
                'サ': 'sa', 'シ': 'shi', 'ス': 'su', 'セ': 'se', 'ソ': 'so', 'タ': 'ta', 'チ': 'chi', 'ツ': 'tsu', 'テ': 'te', 'ト': 'to',
                'ナ': 'na', 'ニ': 'ni', 'ヌ': 'nu', 'ネ': 'ne', 'ノ': 'no', 'ハ': 'ha', 'ヒ': 'hi', 'フ': 'fu', 'ヘ': 'he', 'ホ': 'ho',
                'マ': 'ma', 'ミ': 'mi', 'ム': 'mu', 'メ': 'me', 'モ': 'mo', 'ヤ': 'ya', 'ユ': 'yu', 'ヨ': 'yo',
                'ラ': 'ra', 'リ': 'ri', 'ル': 'ru', 'レ': 're', 'ロ': 'ro', 'ワ': 'wa', 'ヲ': 'wo', 'ン': 'n',
                'ガ': 'ga', 'ギ': 'gi', 'グ': 'gu', 'ゲ': 'ge', 'ゴ': 'go', 'ザ': 'za', 'ジ': 'ji', 'ズ': 'zu', 'ゼ': 'ze', 'ゾ': 'zo',
                'ダ': 'da', 'ヂ': 'ji', 'ヅ': 'zu', 'デ': 'de', 'ド': 'do', 'バ': 'ba', 'ビ': 'bi', 'ブ': 'bu', 'ベ': 'be', 'ボ': 'bo',
                'パ': 'pa', 'ピ': 'pi', 'プ': 'pu', 'ペ': 'pe', 'ポ': 'po', 'キャ': 'kya', 'キュ': 'kyu', 'キョ': 'kyo',
                'シャ': 'sha', 'シュ': 'shu', 'ショ': 'sho', 'チャ': 'cha', 'チュ': 'chu', 'チョ': 'cho',
                'ニャ': 'nya', 'ニュ': 'nyu', 'ニョ': 'nyo', 'ヒャ': 'hya', 'ヒュ': 'hyu', 'ヒョ': 'hyo',
                'ミャ': 'mya', 'ミュ': 'myu', 'ミョ': 'myo', 'リャ': 'rya', 'リュ': 'ryu', 'リョ': 'ryo',
                'ギャ': 'gya', 'ギュ': 'gyu', 'ギョ': 'gyo', 'ジャ': 'ja', 'ジュ': 'ju', 'ジョ': 'jo',
                'ビャ': 'bya', 'ビュ': 'byu', 'ビョ': 'byo', 'ピャ': 'pya', 'ピュ': 'pyu', 'ピョ': 'pyo',
                'ッ': '(pause)', 'っ': '(pause)', 'ー': '-'
            };

            function toRomaji(text) {
                if (!text) return '';
                let romaji = '';
                let i = 0;
                while (i < text.length) {
                    if (i + 1 < text.length) {
                        const two = text.substring(i, i + 2);
                        if (kanaMap[two]) { romaji += kanaMap[two]; i += 2; continue; }
                    }
                    const char = text[i];
                    romaji += kanaMap[char] ? kanaMap[char] : char;
                    i++;
                }
                return romaji;
            }



            document.addEventListener('DOMContentLoaded', () => { fetchJoyoKanji(); });

            async function fetchJoyoKanji() {
                try {
                    const response = await fetch('https://kanjiapi.dev/v1/kanji/joyo');
                    allKanjiList = await response.json();
                    document.getElementById('loading-indicator').style.display = 'none';
                    loadMoreKanji();
                } catch (error) {
                    console.error(error);
                }
            }

            function loadMoreKanji() {
                const grid = document.getElementById('kanji-grid');
                const nextBatch = allKanjiList.slice(displayedCount, displayedCount + BATCH_SIZE);
                nextBatch.forEach(char => {
                    const card = document.createElement('div');
                    card.className = 'kanji-card';
                    card.innerHTML = `<span class="kanji-char">${char}</span>`;
                    card.onclick = () => openDetail(char);
                    grid.appendChild(card);
                });
                displayedCount += nextBatch.length;
                document.getElementById('load-more').style.display = displayedCount < allKanjiList.length ? 'block' : 'none';
            }



            async function openDetail(char) {
                currentKanjiIndex = allKanjiList.indexOf(char);
                document.getElementById('grid-view').classList.remove('active');
                document.getElementById('detail-view').classList.add('active');

                document.getElementById('detail-char').textContent = char;
                document.getElementById('detail-meaning').textContent = 'Loading...';


                try {
                    // Fetch Kanji Details
                    const response = await fetch(`https://kanjiapi.dev/v1/kanji/${char}`);
                    const data = await response.json();

                    document.getElementById('detail-meaning').textContent = data.meanings.join(', ');

                    const onRomaji = data.on_readings.map(r => `${r} (${toRomaji(r)})`).join(', ');
                    const kunRomaji = data.kun_readings.map(r => `${r} (${toRomaji(r)})`).join(', ');
                    document.getElementById('detail-onyomi').textContent = onRomaji || '-';
                    document.getElementById('detail-kunyomi').textContent = kunRomaji || '-';



                    loadStrokeOrder(char);
                } catch (error) {
                    console.error(error);
                    document.getElementById('detail-meaning').textContent = 'Error loading data';
                }
            }

            function showGrid() {
                document.getElementById('detail-view').classList.remove('active');
                document.getElementById('grid-view').classList.add('active');
            }

            function nextChar() { if (currentKanjiIndex < allKanjiList.length - 1) openDetail(allKanjiList[currentKanjiIndex + 1]); }
            function prevChar() { if (currentKanjiIndex > 0) openDetail(allKanjiList[currentKanjiIndex - 1]); }

            function getUnicodeHex(char) {
                let hex = char.charCodeAt(0).toString(16);
                while (hex.length < 5) hex = "0" + hex;
                return hex;
            }

            function loadStrokeOrder(char) {
                const container = document.getElementById('stroke-container');
                container.innerHTML = '<span style="color: #ccc;">Loading...</span>';
                const hex = getUnicodeHex(char);
                const url = `https://raw.githubusercontent.com/KanjiVG/kanjivg/master/kanji/${hex}.svg`;

                fetch(url)
                    .then(res => res.text())
                    .then(svgData => {
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(svgData, "image/svg+xml");
                        const svgElement = doc.querySelector("svg");
                        if (svgElement) {
                            container.innerHTML = "";
                            container.appendChild(svgElement);
                            animateStrokes();
                        } else { container.innerHTML = "No animation"; }
                    })
                    .catch(() => container.innerHTML = "No animation");
            }

            function animateStrokes() {
                const paths = document.querySelectorAll('.stroke-placeholder path');
                paths.forEach((path, index) => {
                    const length = path.getTotalLength();
                    path.style.strokeDasharray = length;
                    path.style.strokeDashoffset = length;
                    path.style.animation = `draw 1s linear forwards ${index * 0.8}s`;
                });
            }

            function replayAnimation() {
                const container = document.getElementById('stroke-container');
                const svg = container.innerHTML;
                container.innerHTML = '';
                setTimeout(() => { container.innerHTML = svg; animateStrokes(); }, 10);
            }
        </script>
</body>

</html>